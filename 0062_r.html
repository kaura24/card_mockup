<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>í•„ìˆ˜í™•ì¸ì‚¬í•­ (0062)</title>
  <style>
    :root{
      --text:#111;--muted:#666;--line:#e6e6e6;--bg:#f7f8fa;
      --kb-yellow:#ffcc00;--kb-yellow-dark:#f2b800;
      --overlay:rgba(0,0,0,.55);--modal-line:#e6e6e6;
      --mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
      --blue:#1a73e8;--danger:#e53935;
    }
    *{box-sizing:border-box;margin:0;padding:0;}
    body{font-family:"Malgun Gothic",Arial,sans-serif;background:var(--bg);color:var(--text);}
    .wrap{max-width:520px;margin:0 auto;min-height:100vh;background:#fff;padding-bottom:84px;border-left:1px solid rgba(0,0,0,.06);border-right:1px solid rgba(0,0,0,.06);}

    /* topbar */
    .topbar{height:56px;display:flex;align-items:center;justify-content:center;position:sticky;top:0;background:#fff;z-index:20;border-bottom:1px solid rgba(0,0,0,.08);padding:0 14px;}
    .topbar .title{font-weight:900;font-size:16px;letter-spacing:-.2px;display:flex;align-items:baseline;gap:6px;}
    .topbar .title small{font-size:12px;font-weight:900;color:var(--muted);}
    .topbar .close{position:absolute;right:12px;top:50%;transform:translateY(-50%);width:38px;height:38px;border-radius:10px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#333;border:none;background:none;font-size:24px;}
    .topbar .close:hover{background:#fafafa;border:1px solid rgba(0,0,0,.10);}

    /* content */
    .content{padding:18px 16px 10px;}
    .sec-title{font-size:14.5px;font-weight:900;letter-spacing:-.2px;margin-bottom:8px;}
    .sec-title .req{color:var(--danger);margin-left:2px;font-size:13px;}
    .desc-list{list-style:none;padding:0;margin-bottom:16px;}
    .desc-list li{font-size:13px;color:#444;line-height:1.7;padding-left:14px;position:relative;}
    .desc-list li::before{content:'-';position:absolute;left:0;}

    /* field */
    .field{margin-bottom:20px;}
    .field label{display:block;font-size:13.5px;font-weight:900;margin-bottom:8px;display:flex;align-items:center;gap:5px;}
    .field label .tooltip{width:18px;height:18px;border-radius:999px;border:1.5px solid #bbb;background:#fff;font-size:11px;color:#888;font-weight:900;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;flex:0 0 auto;}
    select{width:100%;height:48px;border:1px solid rgba(0,0,0,.18);border-radius:10px;padding:0 36px 0 12px;font-size:14px;font-family:inherit;color:var(--text);background:#fff url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24'%3E%3Cpath d='M6 9l6 6 6-6' stroke='%23666' stroke-width='2' fill='none' stroke-linecap='round'/%3E%3C/svg%3E") no-repeat right 12px center;appearance:none;outline:none;}
    select:focus{border-color:var(--blue);box-shadow:0 0 0 3px rgba(26,115,232,.1);}
    .field-notice{font-size:12px;color:var(--muted);margin-top:7px;line-height:1.6;padding-left:14px;position:relative;}
    .field-notice::before{content:'â€»';position:absolute;left:0;}
    .divider{height:1px;background:var(--line);margin:20px 0;}

    /* pdf / link */
    .pdf-row{display:flex;align-items:center;justify-content:space-between;padding:13px 14px;border:1px solid var(--line);border-radius:10px;margin-bottom:10px;}
    .pdf-row .pdf-lbl{font-size:14px;font-weight:700;}
    .pdf-btn{display:flex;align-items:center;gap:5px;padding:7px 12px;border:1px solid rgba(0,0,0,.18);border-radius:8px;font-size:13px;font-weight:700;background:#fff;cursor:pointer;font-family:inherit;}
    .pdf-btn:hover{background:#f5f5f5;}
    .link-row{display:flex;align-items:center;justify-content:space-between;padding:15px 14px;border:1px solid var(--line);border-radius:10px;margin-bottom:14px;cursor:pointer;background:#fff;}
    .link-row:hover{background:#fafafa;}
    .link-row span{font-size:14px;font-weight:700;}
    .link-row .arr{font-size:18px;color:#bbb;}

    /* confirm area */
    .confirm-area{background:#f5f5f5;border-radius:10px;padding:14px 16px;display:flex;align-items:flex-start;gap:12px;margin-top:4px;}
    .confirm-area.active{background:#fffef0;border:1.5px solid rgba(242,184,0,.5);}
    .confirm-area input[type=checkbox]{width:20px;height:20px;flex:0 0 auto;margin-top:2px;cursor:pointer;accent-color:#111;}
    .confirm-area p{font-size:13px;color:#555;line-height:1.65;}
    .confirm-area.active p{color:#333;}

    /* bottom cta */
    .bottom-cta{position:fixed;left:50%;transform:translateX(-50%);bottom:0;width:min(520px,100vw);background:#fff;border-top:1px solid rgba(0,0,0,.08);padding:10px 16px;z-index:30;}
    .cta-btn{width:100%;height:54px;border-radius:12px;border:none;background:var(--kb-yellow);font-weight:900;font-size:16px;cursor:pointer;letter-spacing:-.2px;font-family:inherit;}
    .cta-btn:hover{background:var(--kb-yellow-dark);}
    .cta-btn:active{transform:translateY(1px);}
    .cta-btn:disabled{background:#e0e0e0;color:#aaa;cursor:not-allowed;}

    /* toast */
    .toast{position:fixed;left:50%;bottom:74px;transform:translateX(-50%);background:rgba(0,0,0,.86);color:#fff;padding:10px 14px;border-radius:12px;font-size:14px;opacity:0;pointer-events:none;transition:opacity .18s ease;max-width:min(480px,calc(100vw - 24px));text-align:center;z-index:60;}
    .toast.show{opacity:1;}

    /* ? btn */
    .req-qmark{position:fixed;right:14px;bottom:88px;width:44px;height:44px;border-radius:999px;border:1px solid rgba(0,0,0,.18);background:var(--kb-yellow);color:#111;font-weight:900;font-size:22px;cursor:pointer;box-shadow:0 10px 22px rgba(0,0,0,.14);opacity:.82;transition:opacity .15s ease;z-index:1000;display:flex;align-items:center;justify-content:center;}
    .req-qmark:hover{opacity:1;background:var(--kb-yellow-dark);}
    .req-qmark:active{transform:translateY(1px);}

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
       ì í•©ì„± ì§„ë‹¨ í™•ì¸ì„œ ëª¨ë‹¬ (z-index: 800)
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .diag-root{
      position:fixed;inset:0;
      background:var(--overlay);
      display:none;
      align-items:center;
      justify-content:center;
      padding:24px 18px;
      z-index:800;
    }
    .diag-root.show{display:flex;}
    .diag-box{
      width:min(400px,100%);
      background:#fff;
      border-radius:14px;
      box-shadow:0 24px 64px rgba(0,0,0,.28);
      border:1px solid rgba(0,0,0,.10);
      overflow:hidden;
      animation:diagIn .22s ease;
    }
    @keyframes diagIn{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}

    .diag-body{padding:24px 20px 0;}
    .diag-ttl{font-size:16px;font-weight:900;letter-spacing:-.3px;margin-bottom:6px;}
    .diag-result{font-size:13.5px;color:#444;padding-bottom:16px;border-bottom:1px solid var(--line);}
    .diag-result b{color:#111;font-weight:900;}

    .diag-rows{margin-top:0;}
    .diag-row{display:flex;justify-content:space-between;align-items:center;padding:15px 0;border-bottom:1px solid var(--line);}
    .diag-row:last-child{border-bottom:none;}
    .diag-row .dr-lbl{font-size:14px;color:#555;}
    .diag-row .dr-val{font-size:14px;font-weight:700;color:#111;text-align:right;max-width:55%;}

    .diag-notice{
      text-align:center;
      padding:18px 20px 16px;
      font-size:13.5px;
      color:#444;
      font-weight:700;
      border-top:1px solid var(--line);
      background:#fafafa;
    }
    .diag-foot{
      padding:14px 20px 20px;
      background:#fafafa;
    }
    .diag-foot .cta-btn{margin:0;}
    .diag-sub{
      margin-top:10px;
      font-size:11.5px;
      color:var(--muted);
      text-align:center;
      line-height:1.65;
    }

    /* spec modal (z-index: 1200) */
    .spec-modal-root{position:fixed;inset:0;background:var(--overlay);display:none;align-items:center;justify-content:center;padding:18px;z-index:1200;}
    .spec-modal-root.show{display:flex;}
    .spec-modal{width:min(980px,100%);max-height:min(86vh,900px);overflow:auto;background:#fff;border-radius:12px;box-shadow:0 20px 60px rgba(0,0,0,.25);border:1px solid rgba(0,0,0,.15);}
    .spec-modal__head{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:14px 16px;border-bottom:1px solid var(--modal-line);position:sticky;top:0;background:#fff;}
    .spec-modal__title{font-size:16px;font-weight:900;letter-spacing:-.2px;}
    .spec-modal__close{border:1px solid rgba(0,0,0,.18);background:#fff;border-radius:8px;padding:8px 10px;cursor:pointer;font-weight:900;font-family:inherit;}
    .spec-modal__body{padding:14px 16px 18px;}
    .kv{display:grid;grid-template-columns:170px 1fr;border:1px solid var(--modal-line);border-radius:10px;overflow:hidden;margin-bottom:12px;}
    .kv .k,.kv .v{padding:10px 12px;border-bottom:1px solid var(--modal-line);font-size:13px;line-height:1.5;}
    .kv .k{background:#fafafa;font-weight:900;color:#333;border-right:1px solid var(--modal-line);}
    .kv .v{color:#222;}
    .kv .k:last-child,.kv .v:last-child{border-bottom:none;}
    .chips{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:10px;}
    .chip{font-size:12px;border:1px solid rgba(0,0,0,.12);background:#fafafa;padding:6px 10px;border-radius:999px;font-family:var(--mono);}
    .section{margin-top:12px;padding:12px;border:1px solid var(--modal-line);border-radius:10px;background:#fff;}
    .section__title{font-weight:900;font-size:13px;margin:0 0 8px;}
    .section ul{margin:0;padding-left:18px;color:#222;font-size:13px;line-height:1.6;}
    .code{margin-top:10px;padding:10px 12px;border-radius:10px;background:#0b0b0d;color:#e9e9ef;font-family:var(--mono);font-size:12px;line-height:1.55;overflow:auto;white-space:pre;}
  </style>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable-dynamic-subset.min.css"/>
  <link rel="stylesheet" href="css/kb-theme.css"/>
  <link rel="stylesheet" href="css/common.css" />
</head>
<body>
<div class="wrap" role="application" aria-label="í•„ìˆ˜í™•ì¸ì‚¬í•­ (0062)">

  <div class="topbar" role="banner">
    <div class="title">í•„ìˆ˜í™•ì¸ì‚¬í•­ <small>(0062)</small></div>
    <button class="close" id="closeBtn" aria-label="ë‹«ê¸°" type="button">Ã—</button>
  </div>

  <div class="content">

    <div class="sec-title">ì í•©ì„±íŒë‹¨í™•ì¸<span class="req">(í•„ìˆ˜)</span></div>
    <ul class="desc-list">
      <li>ê¸ˆìœµì†Œë¹„ìë³´í˜¸ë²• ì œ 17ì¡°(ì í•©ì„± ì›ì¹™)ì— 2í•­ì— ë”°ë¼, ì‹ ìš©ì¹´ë“œìƒí’ˆì´ ê³ ê°ë‹˜ê»˜ ì í•©í•œì§€ ì—¬ë¶€ë¥¼ íŒŒì•…í•©ë‹ˆë‹¤.</li>
      <li>ê³ ê°ë‹˜ì˜ ìƒí™©ì— ê°€ì¥ ë¶€í•©í•˜ê±°ë‚˜ ê°€ê¹Œìš´ í•­ëª©ì„ ì²´í¬í•´ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.</li>
    </ul>

    <div class="field">
      <label for="annualIncome">ì—°ê°„ì†Œë“</label>
      <select id="annualIncome">
        <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
        <option value="1">1ì²œë§Œì› ì´í•˜</option>
        <option value="2">1ì²œë§Œì› ì´ˆê³¼~2ì²œë§Œì› ì´í•˜</option>
        <option value="3">2ì²œë§Œì› ì´ˆê³¼~4ì²œë§Œì› ì´í•˜</option>
        <option value="4">4ì²œë§Œì› ì´ˆê³¼~6ì²œë§Œì› ì´í•˜</option>
        <option value="5" selected>6ë°±ë§Œì› ì´ˆê³¼~5ì²œë§Œì› ì´í•˜</option>
        <option value="6">5ì²œë§Œì› ì´ˆê³¼~1ì–µì› ì´í•˜</option>
        <option value="7">1ì–µì› ì´ˆê³¼</option>
      </select>
    </div>

    <div class="field">
      <label for="creditScore">ì‹ ìš©ì ìˆ˜</label>
      <select id="creditScore">
        <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
        <option value="1">500ì  ì´í•˜</option>
        <option value="2" selected>500ì  ì´ˆê³¼</option>
        <option value="3">600ì  ì´ˆê³¼</option>
        <option value="4">700ì  ì´ˆê³¼</option>
        <option value="5">800ì  ì´ˆê³¼</option>
        <option value="6">900ì  ì´ˆê³¼</option>
      </select>
    </div>

    <div class="field">
      <label for="payDay">
        ê²°ì œì¼
        <span class="tooltip" id="payDayTooltip" aria-label="ê²°ì œì¼ ì•ˆë‚´">?</span>
      </label>
      <select id="payDay">
        <option value="01" selected>01ì¼</option>
        <option value="05">05ì¼</option>
        <option value="10">10ì¼</option>
        <option value="14">14ì¼</option>
        <option value="15">15ì¼</option>
        <option value="20">20ì¼</option>
        <option value="25">25ì¼</option>
      </select>
      <div class="field-notice">ê¸°ì—…íšŒì›ì˜ ê²°ì œì¼ ë¶€ì„œë³„ë¡œ ê´€ë¦¬ë˜ë©°, ê²°ì œì¼ì€ ì¹´ë“œê´€ë¦¬ &gt; ì •ë³´ê´€ë¦¬ &gt; ê²°ì œì •ë³´ ë©”ë‰´ì—ì„œ ë³€ê²½ ê°€ëŠ¥í•©ë‹ˆë‹¤. ë‹¨, ì´ê´„ê´€ë¦¬ì ë° ë¶€ì„œë³„ ê´€ë¦¬ì ê¶Œí•œ ë¡œê·¸ì¸ ì‹œ ê°€ëŠ¥.</div>
    </div>

    <div class="divider"></div>

    <div class="sec-title">ìƒí’ˆì„¤ëª…ì„œ ë° ì‹ ìš©ì¹´ë“œ ì„¤ëª…ì„œ(ì£¼ìš”ê±°ë˜ì¡°ê±´ ì•ˆë‚´)<span class="req">(í•„ìˆ˜)</span></div>
    <ul class="desc-list" style="margin-bottom:14px;">
      <li>ê¸ˆìœµì†Œë¹„ì ë³´í˜¸ë²• ì œ 19ì¡°(ì„¤ëª…ì˜ë¬´)ì— ë”°ë¼ ê¸ˆìœµíšŒì‚¬ëŠ” ê¸ˆìœµì†Œë¹„ìì—ê²Œ ìƒí’ˆì„¤ëª…ì„œë¥¼ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤.</li>
      <li>ì¹´ë“œì‹ ì²­ ì „ ì•„ë˜ì˜ ì„œë¥˜ë¥¼ ë‹¤ìš´ë¡œë“œ í•˜ì‹œê³  í•´ë‹¹ ë‚´ìš©ì„ ì¶©ë¶„íˆ í™•ì¸í•´ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.</li>
    </ul>

    <div class="pdf-row">
      <span class="pdf-lbl">ìƒí’ˆì„¤ëª…ì„œ</span>
      <button class="pdf-btn" id="pdfBtn" type="button">ğŸ“„ PDF</button>
    </div>

    <div class="link-row" id="cardDescLink" role="button" tabindex="0">
      <span>ì‹ ìš©ì¹´ë“œ ì„¤ëª…ì„œ í™•ì¸í•˜ê¸°</span>
      <span class="arr">â€º</span>
    </div>

    <div class="confirm-area" id="confirmArea">
      <input type="checkbox" id="confirmChk" aria-label="ë‚´ìš© í™•ì¸ ë™ì˜"/>
      <p>ë³¸ì¸ì€ ìƒí’ˆì„¤ëª…ì„œ, ì‹ ìš©ì¹´ë“œì„¤ëª…ì„œ(ê¸°ì—…íšŒì› ì£¼ìš”ê±°ë˜ì¡°ê±´ì•ˆë‚´)ë¥¼ ì¶©ë¶„íˆ í™•ì¸í•˜ê³  ì´í•´í•˜ì˜€ìœ¼ë©°, ì í•©ì„± íŒë‹¨ ê²°ê³¼ì— ë”°ë¼ ì¹´ë“œë¥¼ ì‹ ì²­í•©ë‹ˆë‹¤.</p>
    </div>

  </div>
</div>

<!-- í•˜ë‹¨ CTA -->
<div class="bottom-cta">
  <button class="cta-btn" id="confirmBtn" type="button" disabled>í™•ì¸</button>
</div>

<!-- í† ìŠ¤íŠ¸ -->


<!-- ? ë²„íŠ¼ -->
<button id="reqBtn" class="req-qmark" type="button" aria-label="ê¸°ëŠ¥ìš”êµ¬ì„œ ë³´ê¸°">?</button>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     ì í•©ì„± ì§„ë‹¨ í™•ì¸ì„œ ëª¨ë‹¬ (z-index: 800)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="diagRoot" class="diag-root" role="dialog" aria-modal="true" aria-label="ì í•©ì„± ì§„ë‹¨ í™•ì¸ì„œ" aria-hidden="true">
  <div class="diag-box">
    <div class="diag-body">
      <div class="diag-ttl">ì í•©ì„± ì§„ë‹¨ í™•ì¸ì„œ</div>
      <div class="diag-result">ì í•©ì„± ì—¬ë¶€ í™•ì¸ ê²°ê³¼ : <b>ì í•©</b></div>
      <div class="diag-rows">
        <div class="diag-row">
          <span class="dr-lbl">ì—°ì†Œë“ ì •ë³´</span>
          <span class="dr-val" id="diagIncome">-</span>
        </div>
        <div class="diag-row">
          <span class="dr-lbl">ì‹ ìš©ì ìˆ˜</span>
          <span class="dr-val" id="diagCredit">-</span>
        </div>
        <div class="diag-row">
          <span class="dr-lbl">ê²°ì œì¼</span>
          <span class="dr-val" id="diagPayDay">-</span>
        </div>
      </div>
    </div>
    <div class="diag-notice">ê³ ê°ë‹˜ê»˜ì„œ ì…ë ¥í•œ ë‚´ìš©ì„ í™•ì¸í•´ì£¼ì„¸ìš”.</div>
    <div class="diag-foot">
      <button class="cta-btn" id="diagConfirmBtn" type="button">í™•ì¸</button>
      <div class="diag-sub">ê³ ê° ì£¼ìš”ê±°ë˜ì¡°ê±´ ì•ˆë‚´ë¥¼ ì¶©ë¶„íˆ í™•ì¸í•˜ê³  ì´í•´í•˜ì˜€ìœ¼ë©°,<br>ì í•©ì„± íŒë‹¨ ê²°ê³¼ì— ë”°ë¼ ì¹´ë“œë¥¼ ì‹ ì²­í•©ë‹ˆë‹¤.</div>
    </div>
  </div>
</div>

<!-- ìš”êµ¬ì‚¬í•­ ëª¨ë‹¬ (z-index: 1200) -->
<div id="specModalRoot" class="spec-modal-root" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="spec-modal">
    <div class="spec-modal__head">
      <div id="specModalTitle" class="spec-modal__title">ì—…ë¬´ ì •ì˜ì„œ / ì£¼ì„ (0062)</div>
      <button id="specModalClose" class="spec-modal__close" type="button">ë‹«ê¸°</button>
    </div>
    <div id="specModalBody" class="spec-modal__body"></div>
  </div>
</div>

<script>
    const SCREEN_ID = "0062";
(function(){
  const SCREEN_ID   = "0062";
  const SCREEN_NAME = "í•„ìˆ˜í™•ì¸ì‚¬í•­(ê°œì‚¬ìì „ìš©)";
  const CHANNEL     = "mobile web (ê°œì‚¬ì)";

  const $ = id => document.getElementById(id);
  const toast = $("toast");

  function showToast(msg){
    toast.textContent = msg;
    toast.classList.add("show");
    setTimeout(()=> toast.classList.remove("show"), 1800);
  }

  function escapeHtml(s){
    return String(s)
      .replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")
      .replace(/"/g,"&quot;").replace(/'/g,"&#039;");
  }

  // â”€â”€ ì…ë ¥ ìš”ì†Œ â”€â”€
  const annualIncome = $("annualIncome");
  const creditScore  = $("creditScore");
  const payDay       = $("payDay");
  const confirmChk   = $("confirmChk");
  const confirmArea  = $("confirmArea");
  const confirmBtn   = $("confirmBtn");

  function validate(){
    const ok = annualIncome.value !== "" && creditScore.value !== "" &&
               payDay.value !== "" && confirmChk.checked;
    confirmBtn.disabled = !ok;
    confirmArea.classList.toggle("active", confirmChk.checked);
  }

  [annualIncome, creditScore, payDay].forEach(el => el.addEventListener("change", validate));
  confirmChk.addEventListener("change", validate);
  validate();

  // â”€â”€ ê¸°ë³¸ ì´ë²¤íŠ¸ â”€â”€
  $("closeBtn").addEventListener("click", ()=> showToast("ë‹«ê¸°(ëª¨ì˜): ì´ì „ í™”ë©´ ìœ ì§€"));
  $("payDayTooltip").addEventListener("click", ()=> showToast("ê²°ì œì¼ì€ ì¹´ë“œê´€ë¦¬ > ì •ë³´ê´€ë¦¬ > ê²°ì œì •ë³´ì—ì„œ ë³€ê²½ ê°€ëŠ¥í•©ë‹ˆë‹¤."));
  $("pdfBtn").addEventListener("click", ()=> showToast("ìƒí’ˆì„¤ëª…ì„œ PDF ë‹¤ìš´ë¡œë“œ(ëª¨ì˜)"));
  $("cardDescLink").addEventListener("click", ()=> showToast("ì‹ ìš©ì¹´ë“œ ì„¤ëª…ì„œ í˜ì´ì§€ ì´ë™(ëª¨ì˜)"));
  $("cardDescLink").addEventListener("keydown", e=>{ if(e.key==="Enter"||e.key===" ") $("cardDescLink").click(); });

  // â”€â”€ í™•ì¸ ë²„íŠ¼ â†’ ì í•©ì„± ì§„ë‹¨ í™•ì¸ì„œ ëª¨ë‹¬ ì—´ê¸° â”€â”€
  const diagRoot       = $("diagRoot");
  const diagConfirmBtn = $("diagConfirmBtn");
  const diagIncome     = $("diagIncome");
  const diagCredit     = $("diagCredit");
  const diagPayDay     = $("diagPayDay");

  function openDiag(){
    // ì„ íƒëœ ê°’ì„ ëª¨ë‹¬ì— ë°˜ì˜
    diagIncome.textContent  = annualIncome.options[annualIncome.selectedIndex].text;
    diagCredit.textContent  = creditScore.options[creditScore.selectedIndex].text;
    diagPayDay.textContent  = payDay.options[payDay.selectedIndex].text + "ì¼";
    diagRoot.classList.add("show");
    diagRoot.setAttribute("aria-hidden","false");
  }

  function closeDiag(){
    diagRoot.classList.remove("show");
    diagRoot.setAttribute("aria-hidden","true");
  }

  confirmBtn.addEventListener("click", openDiag);

  // ë°°ê²½ í´ë¦­ ë‹«ê¸°
  diagRoot.addEventListener("click", e=>{ if(e.target === diagRoot) closeDiag(); });

  // ëª¨ë‹¬ ë‚´ ìµœì¢… í™•ì¸
  diagConfirmBtn.addEventListener("click", ()=>{
    closeDiag();
    showToast("ì í•©ì„± í™•ì¸ ì™„ë£Œ(ëª¨ì˜) â†’ ì¹´ë“œì •ë³´ ì…ë ¥ í™”ë©´ìœ¼ë¡œ ì´ë™");
    setTimeout(()=>{ location.hash = "#/0063"; }, 900);
    console.log("[0062] ìµœì¢…í™•ì¸:", {
      income: annualIncome.options[annualIncome.selectedIndex].text,
      credit: creditScore.options[creditScore.selectedIndex].text,
      payDay: payDay.value
    });
  });

  // ESC ë¡œ ëª¨ë‹¬ ë‹«ê¸°
  document.addEventListener("keydown", e=>{
    if(e.key==="Escape"){
      if(diagRoot.classList.contains("show")){ closeDiag(); return; }
      if(specModalRoot.classList.contains("show")){ closeSpec(); }
    }
  });

  // â”€â”€ ìš”êµ¬ì‚¬í•­ ëª¨ë‹¬ â”€â”€
  

  const reqBtn        = $("reqBtn");
  const specModalRoot = $("specModalRoot");
  const specModalClose= $("specModalClose");
  const specModalTitle= $("specModalTitle");
  const specModalBody = $("specModalBody");

  function renderSpec(spec){
    specModalTitle.textContent = `ì—…ë¬´ ì •ì˜ì„œ / ì£¼ì„ (${spec.screen_id}) Â· ${spec.screen_name}`;
    const chips = [`ID:${spec.screen_id}`,`Action:${spec.action}`,`Channel:${spec.channel}`,`Persona:ê°œì‚¬ì`];
    specModalBody.innerHTML = `
      <div class="kv">
        <div class="k">ê¸°ëŠ¥ ID</div><div class="v"><b>${escapeHtml(spec.screen_id)}</b></div>
        <div class="k">ê¸°ëŠ¥ëª…</div><div class="v"><b>${escapeHtml(spec.screen_name)}</b></div>
        <div class="k">ì±„ë„</div><div class="v">${escapeHtml(spec.channel)}</div>
        <div class="k">Action</div><div class="v">${escapeHtml(spec.action)}</div>
        <div class="k">ëª©ì </div><div class="v">${escapeHtml(spec.purpose)}</div>
      </div>
      <div class="chips">${chips.map(c=>`<span class="chip">${escapeHtml(c)}</span>`).join("")}</div>
      <div class="section"><div class="section__title">ì œì–´ ê·œì¹™</div><ul>${(spec.control_rules||[]).map(x=>`<li>${escapeHtml(x)}</li>`).join("")}</ul></div>
      <div class="section"><div class="section__title">ê°ì‚¬/ë¡œê·¸ í¬ì¸íŠ¸</div><ul>${(spec.audit_log_points||[]).map(x=>`<li>${escapeHtml(x)}</li>`).join("")}</ul></div>
      <div class="section"><div class="section__title">ì£¼ì„ (ê°œë°œ/QA í¬ì¸íŠ¸)</div><ul>${(spec.notes||[]).map(x=>`<li>${escapeHtml(x)}</li>`).join("")}</ul></div>
      <div class="section"><div class="section__title">REQ_SPEC ì›ë¬¸ (JSON)</div><div class="code">${escapeHtml(JSON.stringify(spec,null,2))}</div></div>
    `;
  }

  function openSpec(){ renderSpec(REQ_SPEC); specModalRoot.classList.add("show"); specModalRoot.setAttribute("aria-hidden","false"); }
  function closeSpec(){ specModalRoot.classList.remove("show"); specModalRoot.setAttribute("aria-hidden","true"); }

  reqBtn.addEventListener("click", openSpec);
  specModalClose.addEventListener("click", closeSpec);
  specModalRoot.addEventListener("click", e=>{ if(e.target===specModalRoot) closeSpec(); });

})();
</script>
<script src="js/common.js"></script>
<script src="js/session-db.js"></script>
<script src="js/scenario-nav.js"></script>
<script src="js/spec-viewer.js" data-screen-id="0062"></script>
</body>
</html>
