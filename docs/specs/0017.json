{
  "screen_id": "0017",
  "screen_name": "EDD 정보",
  "applies_to": {
    "corp": "Y",
    "personal": "N"
  },
  "action": "정보입력(선택형)",
  "key_rule": "사업자번호가 구분 Key",
  "input_value_shape": [
    {
      "key": "transaction_purpose",
      "label": "거래목적",
      "required": true,
      "type": "select",
      "rule": "선택형(텍스트 입력 없음)"
    },
    {
      "key": "fund_source",
      "label": "거래자금의 원천",
      "required": true,
      "type": "select",
      "rule": "선택형(텍스트 입력 없음)"
    }
  ],
  "backend": {
    "system": "N(처리계 거래 없음)",
    "purpose": "EDD 필수 선택값 수집(AML/리스크 관리 목적) — 이후 신청/심사 단계 전문 포함 여부 확정",
    "read": "기본적으로 코드리스트 제공(정책/공통코드). 이전 입력값이 있으면 복원(플랫폼 저장 기반).",
    "write": "플랫폼 임시저장/세션 저장(가정). 최종 신청 시 함께 제출 가능(확정 필요)."
  },
  "entry_condition": [
    "이전 단계(0016 법인 정보) 완료 후 진입",
    "사업자번호(구분 Key)가 확보된 상태"
  ],
  "ui_nature": [
    "EDD 선택값 입력 화면",
    "두 항목 모두 선택형 드롭다운",
    "필수(*) 선택값 검증 후 다음 단계로 진행"
  ],
  "control_rules": [
    "거래목적/거래자금의 원천은 필수(*)이며, 미선택 시 다음 진행 불가",
    "텍스트 입력 없이 선택형 메뉴만 제공(표 기준)",
    "옵션은 업무정책/공통코드 기반으로 제공(옵션 구성은 확정 필요)",
    "사업자번호 기준으로 선택값을 저장/관리한다(구분 Key)"
  ],
  "error_cases": [
    "필수값 미선택: '○○를 선택해 주세요' 메시지 노출 및 해당 select로 포커스 이동",
    "옵션코드 미정/코드 조회 실패(정책): 기본 안내 + 재시도 가능(운영정책/에러코드 노출 여부 확정 필요)"
  ],
  "audit_log_points": [
    "선택값 변경 이벤트(선택 코드만 기록 권장)",
    "다음 버튼 클릭 시점",
    "사업자번호 등 식별정보는 로그 마스킹/최소화 적용 권장"
  ],
  "related_scenarios": [
    "신용_신규_공용(대표 또는 대리인) 흐름 내 0017 포함",
    "신용_신규_개별(대표 또는 대리인) 흐름 내 0017 포함"
  ],
  "next_screens": {
    "prev": "0016",
    "next": "0018"
  },
  "annotations": [
    {
      "no": 1,
      "selector": "[data-anno='1']",
      "title": "라벨: 거래목적",
      "desc": "필수(*) 표시"
    },
    {
      "no": 2,
      "selector": "#purposeSelect",
      "title": "선택: 거래목적",
      "desc": "선택형 드롭다운(텍스트 입력 없음)"
    },
    {
      "no": 3,
      "selector": "[data-anno='3']",
      "title": "안내문구",
      "desc": "선택형 메뉴/코드값 확정 필요(개발/QA 포인트)"
    },
    {
      "no": 4,
      "selector": "[data-anno='4']",
      "title": "라벨: 거래자금의 원천",
      "desc": "필수(*) 표시"
    },
    {
      "no": 5,
      "selector": "#fundSourceSelect",
      "title": "선택: 거래자금의 원천",
      "desc": "선택형 드롭다운(텍스트 입력 없음)"
    },
    {
      "no": 6,
      "selector": "[data-anno='6']",
      "title": "Key 안내",
      "desc": "사업자번호 기준(구분 Key)으로 관리됨"
    },
    {
      "no": 7,
      "selector": "[data-anno='7']",
      "title": "이전/다음 버튼",
      "desc": "이전: 0016, 다음: 저장 후 0018(목업)"
    }
  ],
  "requirements": [
    {
      "id": "REQ-0017-001",
      "priority": "Must",
      "desc": "거래목적과 거래자금의 원천은 선택형(드롭다운)으로 제공하며 텍스트 입력은 제공하지 않는다.",
      "acceptance": "두 항목 모두 select UI로만 입력 가능하고 자유입력 필드는 없다."
    },
    {
      "id": "REQ-0017-002",
      "priority": "Must",
      "desc": "거래목적/거래자금의 원천은 필수(*)이며, 미선택 시 다음 단계로 진행할 수 없다.",
      "acceptance": "선택값이 비어있으면 '다음' 클릭 시 오류 메시지 노출 및 진행 차단."
    },
    {
      "id": "REQ-0017-003",
      "priority": "Must",
      "desc": "옵션은 업무정책/공통코드(코드리스트) 기반으로 제공되어야 한다.",
      "acceptance": "운영 코드리스트 변경 시 화면 옵션이 동일하게 반영된다(하드코딩 금지)."
    },
    {
      "id": "REQ-0017-004",
      "priority": "Must",
      "desc": "선택 결과는 사업자번호를 구분 Key로 저장/관리한다.",
      "acceptance": "동일 사업자번호로 재진입 시 이전 선택값이 복원되며, 다른 사업자번호로는 분리된다."
    },
    {
      "id": "REQ-0017-005",
      "priority": "Should",
      "desc": "본 화면의 저장 방식(처리계 거래 없음)과 최종 전문 포함 시점을 업무흐름으로 확정한다.",
      "acceptance": "요건서/전문설계에 '저장 위치'와 '최종 제출 시점'이 명시되고 구현과 일치한다."
    },
    {
      "id": "REQ-0017-006",
      "priority": "Must",
      "desc": "모달은 1개의 화면(뷰포트) 안에 보이도록 max-height를 적용하고, 내용이 늘어나면 모달 내부만 스크롤한다.",
      "acceptance": "페이지(body)는 스크롤되지 않고 필요 시 모달 content에서만 스크롤이 발생한다."
    }
  ],
  "notes": [
    "화면기능목록(0017) 기준: '거래 목적/거래자금의 원천' 선택형 메뉴 노출(텍스트 입력 없음).",
    "처리계 거래 컬럼이 N으로 되어 있어 본 화면 단독 거래 호출은 없다고 가정(최종 신청 전문 포함 여부는 확정 필요)."
  ]
}